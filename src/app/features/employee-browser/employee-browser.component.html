<h1>Przeglądarka Pracowników</h1>

<div class="employee-selection">
  <app-employee-select id="employeeSelect" (employeeSelected)="onEmployeeSelected($event)"></app-employee-select>
</div>

<div class="hierarchy-display">
  <h3>Ścieżka przełożonych:</h3>
  <app-employee-hierarchy></app-employee-hierarchy>
</div>

<div class="tree-display" *ngIf="(selectedEmployee$ | async) as employee">
  <div class="tree-header">
    <h3>Struktura podwładnych dla <span class="employee-name-highlight">{{ employee.firstName }} {{ employee.lastName }}</span>:</h3>
    <div class="tree-controls" *ngIf="(subordinateTree$ | async) as tree">
      <button class="neo-button" *ngIf="hasExpandableNodes(tree)" (click)="toggleAllSubordinates()">
        {{ (isAllExpanded$ | async) ? 'Zwiń wszystko' : 'Rozwiń wszystko' }}
      </button>
    </div>
  </div>
  <app-tree-view #subordinateTreeView [nodes]="(subordinateTree$ | async) ?? []"></app-tree-view>
</div>

